/*
 * ISAAC - Intelligent System Architecture Advisor & Consultant
 * =============================================================
 * Premium UI Theme inspired by Isaac Newton, classical physics,
 * scientific manuscripts, and celestial mechanics.
 * 
 * Design Philosophy:
 * - Systems = Mechanisms
 * - Architecture = Laws  
 * - Load & Scale = Forces
 * - Bottlenecks = Friction
 * - Stability = Equilibrium
 */

/* ============================================
   CSS VARIABLES - Newton Color Palette
   ============================================ */
:root {
  /* Cosmic Navy - Deep Space Background */
  --isaac-bg-deep: #06080c;
  --isaac-bg-primary: #0a0d14;
  --isaac-bg-secondary: #0f1219;
  --isaac-bg-elevated: #151a24;
  --isaac-bg-surface: #1a202c;

  /* Parchment & Paper Tones */
  --isaac-parchment: #e8e4d9;
  --isaac-parchment-dim: #c4c0b5;
  --isaac-parchment-muted: #9a968b;

  /* Antique Brass & Gold Accents */
  --isaac-brass: #c9a962;
  --isaac-brass-light: #dfc07a;
  --isaac-brass-dark: #a08542;
  --isaac-gold: #d4af37;

  /* Celestial Accents */
  --isaac-celestial: #4a6fa5;
  --isaac-nebula: #6b5b95;
  --isaac-aurora: #45b7aa;

  /* Semantic Colors */
  --isaac-success: #5d8a66;
  --isaac-warning: #c9a962;
  --isaac-error: #a65d5d;
  --isaac-info: #5d7a8a;

  /* Typography */
  --isaac-font-display:
    "Cormorant Garamond", "Georgia", "Times New Roman", serif;
  --isaac-font-body:
    "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  --isaac-font-mono: "JetBrains Mono", "Fira Code", "Consolas", monospace;

  /* Spacing */
  --isaac-space-xs: 4px;
  --isaac-space-sm: 8px;
  --isaac-space-md: 16px;
  --isaac-space-lg: 24px;
  --isaac-space-xl: 32px;
  --isaac-space-2xl: 48px;

  /* Borders & Radius */
  --isaac-radius-sm: 4px;
  --isaac-radius-md: 8px;
  --isaac-radius-lg: 12px;
  --isaac-radius-xl: 16px;

  /* Transitions */
  --isaac-transition-fast: 150ms ease;
  --isaac-transition-normal: 250ms ease;
  --isaac-transition-slow: 400ms ease;

  /* Shadows - subtle depth */
  --isaac-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --isaac-shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
  --isaac-shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
  --isaac-shadow-glow: 0 0 20px rgba(201, 169, 98, 0.15);
}

/* ============================================
   GLOBAL STYLES & RESETS
   ============================================ */

/* Hide Chainlit branding only */
.watermark,
[class*="watermark"],
[class*="MuiBox-root"] > a[href*="chainlit"],
footer a[href*="chainlit"],
div[class*="powered"],
a[href="https://github.com/Chainlit/chainlit"] {
  display: none !important;
  visibility: hidden !important;
}

/* Base body styling */
body {
  background: var(--isaac-bg-deep) !important;
  color: var(--isaac-parchment) !important;
  font-family: var(--isaac-font-body) !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Subtle grain texture overlay */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.015;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

/* ============================================
   MAIN LAYOUT & CONTAINERS
   ============================================ */

/* Main app container */
.MuiBox-root[class*="main"],
main,
#root > div {
  background: var(--isaac-bg-deep) !important;
}

/* Chat container */
.MuiBox-root {
  background-color: transparent;
}

/* ============================================
   HEADER STYLING
   ============================================ */

/* Main header/title area */
header,
.MuiAppBar-root,
[class*="header"] {
  background: linear-gradient(
    180deg,
    var(--isaac-bg-secondary) 0%,
    transparent 100%
  ) !important;
  border-bottom: 1px solid rgba(201, 169, 98, 0.1) !important;
  backdrop-filter: blur(8px);
}

/* Application title */
h1,
.MuiTypography-h1,
[class*="title"] {
  font-family: var(--isaac-font-display) !important;
  color: var(--isaac-parchment) !important;
  font-weight: 500 !important;
  letter-spacing: 0.05em !important;
}

/* ISAAC logo text enhancement */
.MuiTypography-root[class*="logo"],
[class*="appName"] {
  font-family: var(--isaac-font-display) !important;
  font-size: 1.5rem !important;
  font-weight: 600 !important;
  color: var(--isaac-brass) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.2em !important;
}

/* ============================================
   SIDEBAR STYLING
   ============================================ */

/* Sidebar container */
aside,
.MuiDrawer-root,
.MuiDrawer-paper,
[class*="sidebar"],
[class*="drawer"] {
  background: var(--isaac-bg-secondary) !important;
  border-right: 1px solid rgba(201, 169, 98, 0.08) !important;
}

/* Sidebar navigation items */
.MuiListItem-root,
.MuiListItemButton-root {
  border-radius: var(--isaac-radius-md) !important;
  margin: var(--isaac-space-xs) var(--isaac-space-sm) !important;
  transition: all var(--isaac-transition-normal) !important;
}

.MuiListItem-root:hover,
.MuiListItemButton-root:hover {
  background: rgba(201, 169, 98, 0.08) !important;
}

.MuiListItem-root.Mui-selected,
.MuiListItemButton-root.Mui-selected {
  background: rgba(201, 169, 98, 0.12) !important;
  border-left: 2px solid var(--isaac-brass) !important;
}

/* ============================================
   CHAT MESSAGE BUBBLES
   ============================================ */

/* Message container */
.MuiBox-root[class*="message"],
[class*="messageContent"],
.step-container {
  margin: var(--isaac-space-md) 0 !important;
}

/* User message bubble */
[class*="userMessage"],
.user-message,
.MuiBox-root[class*="user"] {
  background: linear-gradient(
    135deg,
    var(--isaac-bg-surface) 0%,
    var(--isaac-bg-elevated) 100%
  ) !important;
  border: 1px solid rgba(201, 169, 98, 0.15) !important;
  border-radius: var(--isaac-radius-lg) var(--isaac-radius-lg)
    var(--isaac-radius-sm) var(--isaac-radius-lg) !important;
  padding: var(--isaac-space-md) var(--isaac-space-lg) !important;
  color: var(--isaac-parchment) !important;
  box-shadow: var(--isaac-shadow-sm) !important;
  position: relative;
  overflow: hidden;
}

/* Subtle corner accent for user messages */
[class*="userMessage"]::before,
.user-message::before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  width: 30px;
  height: 30px;
  background: linear-gradient(
    135deg,
    transparent 50%,
    rgba(201, 169, 98, 0.1) 50%
  );
  border-radius: 0 var(--isaac-radius-lg) 0 0;
}

/* AI/ISAAC message bubble */
[class*="assistantMessage"],
[class*="botMessage"],
.assistant-message,
.bot-message {
  background: linear-gradient(
    135deg,
    var(--isaac-bg-elevated) 0%,
    rgba(201, 169, 98, 0.03) 100%
  ) !important;
  border: 1px solid rgba(201, 169, 98, 0.1) !important;
  border-left: 3px solid var(--isaac-brass) !important;
  border-radius: var(--isaac-radius-lg) var(--isaac-radius-lg)
    var(--isaac-radius-lg) var(--isaac-radius-sm) !important;
  padding: var(--isaac-space-lg) !important;
  color: var(--isaac-parchment) !important;
  box-shadow: var(--isaac-shadow-md), var(--isaac-shadow-glow) !important;
}

/* Message author name */
[class*="author"],
.message-author {
  font-family: var(--isaac-font-display) !important;
  color: var(--isaac-brass) !important;
  font-size: 0.9rem !important;
  font-weight: 600 !important;
  letter-spacing: 0.1em !important;
  text-transform: uppercase !important;
  margin-bottom: var(--isaac-space-sm) !important;
}

/* Message content text */
[class*="messageContent"] p,
.message-content p {
  line-height: 1.7 !important;
  color: var(--isaac-parchment) !important;
}

/* ============================================
   INPUT BOX STYLING - ChatGPT/Gemini Style
   ============================================ */

/* Main input container - outer wrapper */
[class*="inputContainer"],
[class*="composer"],
.MuiBox-root[class*="input"] {
  background: transparent !important;
  border-top: none !important;
  padding: var(--isaac-space-lg) var(--isaac-space-xl) var(--isaac-space-xl) !important;
}

/* The main input wrapper box with gold border */
[class*="composer"] > div,
[class*="inputContainer"] > div {
  background: var(--isaac-bg-primary) !important;
  border: 1.5px solid var(--isaac-brass) !important;
  border-radius: 24px !important;
  padding: var(--isaac-space-md) !important;
  box-shadow: 0 0 20px rgba(201, 169, 98, 0.1) !important;
  transition: all var(--isaac-transition-normal) !important;
}

[class*="composer"] > div:focus-within,
[class*="inputContainer"] > div:focus-within {
  border-color: var(--isaac-brass-light) !important;
  box-shadow: 0 0 30px rgba(201, 169, 98, 0.2) !important;
}

/* Text input field - inner area same color */
textarea,
input[type="text"],
.MuiInputBase-root,
.MuiOutlinedInput-root,
[class*="textInput"] {
  background: transparent !important;
  border: none !important;
  border-radius: var(--isaac-radius-lg) !important;
  color: var(--isaac-parchment) !important;
  font-family: var(--isaac-font-body) !important;
  font-size: 1rem !important;
  padding: var(--isaac-space-sm) var(--isaac-space-md) !important;
  transition: all var(--isaac-transition-normal) !important;
}

textarea:focus,
input[type="text"]:focus,
.MuiInputBase-root.Mui-focused,
.MuiOutlinedInput-root.Mui-focused {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Placeholder text - "Ask ISAAC" style */
textarea::placeholder,
input::placeholder,
.MuiInputBase-input::placeholder {
  color: var(--isaac-parchment-muted) !important;
  font-style: normal !important;
  opacity: 0.6 !important;
}

/* Send button */
button[type="submit"],
[class*="sendButton"],
.MuiIconButton-root[class*="send"] {
  background: linear-gradient(
    135deg,
    var(--isaac-brass) 0%,
    var(--isaac-brass-dark) 100%
  ) !important;
  border: none !important;
  border-radius: 50% !important;
  color: var(--isaac-bg-deep) !important;
  font-weight: 600 !important;
  padding: var(--isaac-space-sm) var(--isaac-space-lg) !important;
  transition: all var(--isaac-transition-normal) !important;
  box-shadow: var(--isaac-shadow-sm) !important;
}

button[type="submit"]:hover,
[class*="sendButton"]:hover {
  background: linear-gradient(
    135deg,
    var(--isaac-brass-light) 0%,
    var(--isaac-brass) 100%
  ) !important;
  box-shadow: var(--isaac-shadow-md), var(--isaac-shadow-glow) !important;
  transform: translateY(-1px) !important;
}

button[type="submit"]:active,
[class*="sendButton"]:active {
  transform: translateY(0) !important;
}

/* ============================================
   TYPOGRAPHY ENHANCEMENTS
   ============================================ */

/* Headings in messages */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--isaac-font-display) !important;
  color: var(--isaac-parchment) !important;
  margin-top: var(--isaac-space-lg) !important;
  margin-bottom: var(--isaac-space-md) !important;
}

h1 {
  font-size: 1.75rem !important;
  font-weight: 500 !important;
}
h2 {
  font-size: 1.5rem !important;
  font-weight: 500 !important;
  color: var(--isaac-brass) !important;
}
h3 {
  font-size: 1.25rem !important;
  font-weight: 500 !important;
}
h4 {
  font-size: 1.1rem !important;
  font-weight: 600 !important;
}

/* Paragraph text */
p {
  line-height: 1.75 !important;
  margin-bottom: var(--isaac-space-md) !important;
}

/* Links */
a {
  color: var(--isaac-brass) !important;
  text-decoration: none !important;
  border-bottom: 1px solid transparent !important;
  transition: all var(--isaac-transition-fast) !important;
}

a:hover {
  color: var(--isaac-brass-light) !important;
  border-bottom-color: var(--isaac-brass-light) !important;
}

/* Bold text */
strong,
b {
  color: var(--isaac-parchment) !important;
  font-weight: 600 !important;
}

/* Italic text - Newton quote style */
em,
i {
  font-style: italic !important;
  color: var(--isaac-parchment-dim) !important;
}

/* Blockquotes - manuscript style */
blockquote {
  border-left: 3px solid var(--isaac-brass) !important;
  background: rgba(201, 169, 98, 0.05) !important;
  padding: var(--isaac-space-md) var(--isaac-space-lg) !important;
  margin: var(--isaac-space-lg) 0 !important;
  border-radius: 0 var(--isaac-radius-md) var(--isaac-radius-md) 0 !important;
  font-style: italic !important;
  color: var(--isaac-parchment-dim) !important;
}

blockquote::before {
  content: '"';
  font-family: var(--isaac-font-display);
  font-size: 3rem;
  color: var(--isaac-brass);
  opacity: 0.3;
  position: absolute;
  margin-left: -20px;
  margin-top: -15px;
}

/* ============================================
   CODE BLOCKS - Scientific Notation Style
   ============================================ */

/* Inline code */
code:not(pre code) {
  background: var(--isaac-bg-surface) !important;
  border: 1px solid rgba(201, 169, 98, 0.15) !important;
  border-radius: var(--isaac-radius-sm) !important;
  padding: 2px 6px !important;
  font-family: var(--isaac-font-mono) !important;
  font-size: 0.9em !important;
  color: var(--isaac-brass-light) !important;
}

/* Code blocks */
pre {
  background: var(--isaac-bg-deep) !important;
  border: 1px solid rgba(201, 169, 98, 0.1) !important;
  border-radius: var(--isaac-radius-md) !important;
  padding: var(--isaac-space-lg) !important;
  margin: var(--isaac-space-lg) 0 !important;
  overflow-x: auto !important;
  position: relative;
}

pre::before {
  content: "âš™ SPECIFICATION";
  position: absolute;
  top: 0;
  left: 0;
  background: var(--isaac-brass);
  color: var(--isaac-bg-deep);
  font-family: var(--isaac-font-body);
  font-size: 0.65rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  padding: 2px 8px;
  border-radius: var(--isaac-radius-md) 0 var(--isaac-radius-sm) 0;
}

pre code {
  font-family: var(--isaac-font-mono) !important;
  font-size: 0.875rem !important;
  line-height: 1.6 !important;
  color: var(--isaac-parchment) !important;
}

/* ============================================
   LISTS - Structured Like Laws
   ============================================ */

ul,
ol {
  padding-left: var(--isaac-space-xl) !important;
  margin: var(--isaac-space-md) 0 !important;
}

li {
  margin-bottom: var(--isaac-space-sm) !important;
  line-height: 1.6 !important;
}

ul li::marker {
  color: var(--isaac-brass) !important;
}

ol li::marker {
  color: var(--isaac-brass) !important;
  font-weight: 600 !important;
}

/* ============================================
   TABLES - Data Matrix Style
   ============================================ */

table {
  width: 100% !important;
  border-collapse: collapse !important;
  margin: var(--isaac-space-lg) 0 !important;
  background: var(--isaac-bg-elevated) !important;
  border-radius: var(--isaac-radius-md) !important;
  overflow: hidden !important;
}

thead {
  background: linear-gradient(
    135deg,
    var(--isaac-bg-surface) 0%,
    rgba(201, 169, 98, 0.1) 100%
  ) !important;
}

th {
  font-family: var(--isaac-font-display) !important;
  font-weight: 600 !important;
  color: var(--isaac-brass) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  font-size: 0.85rem !important;
  padding: var(--isaac-space-md) !important;
  text-align: left !important;
  border-bottom: 2px solid var(--isaac-brass) !important;
}

td {
  padding: var(--isaac-space-md) !important;
  border-bottom: 1px solid rgba(201, 169, 98, 0.1) !important;
  color: var(--isaac-parchment) !important;
}

tr:hover td {
  background: rgba(201, 169, 98, 0.03) !important;
}

/* ============================================
   HORIZONTAL RULES - Section Dividers
   ============================================ */

hr {
  border: none !important;
  height: 1px !important;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--isaac-brass) 20%,
    var(--isaac-brass) 80%,
    transparent 100%
  ) !important;
  margin: var(--isaac-space-xl) 0 !important;
  opacity: 0.3 !important;
}

/* ============================================
   BUTTONS & INTERACTIVE ELEMENTS
   ============================================ */

button,
.MuiButton-root,
.MuiIconButton-root {
  font-family: var(--isaac-font-body) !important;
  transition: all var(--isaac-transition-normal) !important;
}

/* Primary buttons */
.MuiButton-contained,
button.primary {
  background: linear-gradient(
    135deg,
    var(--isaac-brass) 0%,
    var(--isaac-brass-dark) 100%
  ) !important;
  color: var(--isaac-bg-deep) !important;
  border: none !important;
  font-weight: 600 !important;
}

.MuiButton-contained:hover,
button.primary:hover {
  background: linear-gradient(
    135deg,
    var(--isaac-brass-light) 0%,
    var(--isaac-brass) 100%
  ) !important;
  box-shadow: var(--isaac-shadow-glow) !important;
}

/* Secondary/outlined buttons */
.MuiButton-outlined,
button.secondary {
  background: transparent !important;
  border: 1px solid var(--isaac-brass) !important;
  color: var(--isaac-brass) !important;
}

.MuiButton-outlined:hover,
button.secondary:hover {
  background: rgba(201, 169, 98, 0.1) !important;
  border-color: var(--isaac-brass-light) !important;
}

/* Icon buttons */
.MuiIconButton-root {
  color: var(--isaac-parchment-dim) !important;
}

.MuiIconButton-root:hover {
  color: var(--isaac-brass) !important;
  background: rgba(201, 169, 98, 0.1) !important;
}

/* ============================================
   LOADING & STREAMING INDICATORS
   ============================================ */

/* Typing indicator */
[class*="typing"],
[class*="loading"],
.streaming-indicator {
  color: var(--isaac-brass) !important;
}

/* Streaming dots animation */
@keyframes isaac-pulse {
  0%,
  100% {
    opacity: 0.3;
  }
  50% {
    opacity: 1;
  }
}

[class*="typing"] span,
.loading-dot {
  animation: isaac-pulse 1.4s ease-in-out infinite !important;
}

[class*="typing"] span:nth-child(2),
.loading-dot:nth-child(2) {
  animation-delay: 0.2s !important;
}

[class*="typing"] span:nth-child(3),
.loading-dot:nth-child(3) {
  animation-delay: 0.4s !important;
}

/* Progress bars */
.MuiLinearProgress-root {
  background: var(--isaac-bg-surface) !important;
  border-radius: var(--isaac-radius-sm) !important;
}

.MuiLinearProgress-bar {
  background: linear-gradient(
    90deg,
    var(--isaac-brass-dark) 0%,
    var(--isaac-brass) 50%,
    var(--isaac-brass-light) 100%
  ) !important;
}

/* ============================================
   SCROLLBARS - Refined
   ============================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--isaac-bg-secondary);
  border-radius: var(--isaac-radius-sm);
}

::-webkit-scrollbar-thumb {
  background: var(--isaac-bg-surface);
  border-radius: var(--isaac-radius-sm);
  border: 2px solid var(--isaac-bg-secondary);
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(201, 169, 98, 0.3);
}

/* ============================================
   REASONING MODE TOGGLE
   ============================================ */

/* Reasoning mode container */
.reasoning-mode-toggle {
  display: flex;
  align-items: center;
  gap: var(--isaac-space-sm);
  padding: var(--isaac-space-sm) var(--isaac-space-md);
  background: var(--isaac-bg-elevated);
  border: 1px solid rgba(201, 169, 98, 0.15);
  border-radius: var(--isaac-radius-md);
  margin-bottom: var(--isaac-space-md);
}

.reasoning-mode-toggle label {
  font-family: var(--isaac-font-body);
  font-size: 0.85rem;
  color: var(--isaac-parchment-dim);
  cursor: pointer;
}

/* Custom toggle switch */
.reasoning-toggle {
  position: relative;
  width: 44px;
  height: 24px;
  background: var(--isaac-bg-surface);
  border: 1px solid rgba(201, 169, 98, 0.2);
  border-radius: 12px;
  cursor: pointer;
  transition: all var(--isaac-transition-normal);
}

.reasoning-toggle.active {
  background: rgba(201, 169, 98, 0.2);
  border-color: var(--isaac-brass);
}

.reasoning-toggle::after {
  content: "";
  position: absolute;
  top: 2px;
  left: 2px;
  width: 18px;
  height: 18px;
  background: var(--isaac-parchment-muted);
  border-radius: 50%;
  transition: all var(--isaac-transition-normal);
}

.reasoning-toggle.active::after {
  left: 22px;
  background: var(--isaac-brass);
}

/* ============================================
   REASONING/ANALYSIS SECTION
   ============================================ */

/* Collapsible reasoning section */
.reasoning-section {
  background: linear-gradient(
    135deg,
    var(--isaac-bg-deep) 0%,
    rgba(74, 111, 165, 0.05) 100%
  );
  border: 1px solid rgba(74, 111, 165, 0.2);
  border-left: 3px solid var(--isaac-celestial);
  border-radius: var(--isaac-radius-md);
  margin: var(--isaac-space-lg) 0;
  overflow: hidden;
}

.reasoning-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--isaac-space-md) var(--isaac-space-lg);
  background: rgba(74, 111, 165, 0.1);
  cursor: pointer;
  transition: background var(--isaac-transition-fast);
}

.reasoning-header:hover {
  background: rgba(74, 111, 165, 0.15);
}

.reasoning-header h4 {
  margin: 0 !important;
  font-family: var(--isaac-font-display) !important;
  color: var(--isaac-celestial) !important;
  font-size: 0.95rem !important;
  letter-spacing: 0.05em !important;
}

.reasoning-header .toggle-icon {
  color: var(--isaac-celestial);
  transition: transform var(--isaac-transition-normal);
}

.reasoning-header.expanded .toggle-icon {
  transform: rotate(180deg);
}

.reasoning-content {
  padding: 0 var(--isaac-space-lg) var(--isaac-space-lg);
  max-height: 0;
  overflow: hidden;
  transition:
    max-height var(--isaac-transition-slow),
    padding var(--isaac-transition-slow);
}

.reasoning-content.expanded {
  max-height: 2000px;
  padding-top: var(--isaac-space-lg);
}

/* Reasoning subsections */
.reasoning-subsection {
  margin-bottom: var(--isaac-space-lg);
  padding-bottom: var(--isaac-space-md);
  border-bottom: 1px solid rgba(74, 111, 165, 0.1);
}

.reasoning-subsection:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.reasoning-subsection h5 {
  font-family: var(--isaac-font-display) !important;
  color: var(--isaac-brass) !important;
  font-size: 0.85rem !important;
  text-transform: uppercase !important;
  letter-spacing: 0.1em !important;
  margin-bottom: var(--isaac-space-sm) !important;
}

.reasoning-subsection ul {
  margin: 0 !important;
  padding-left: var(--isaac-space-lg) !important;
}

.reasoning-subsection li {
  font-size: 0.9rem !important;
  color: var(--isaac-parchment-dim) !important;
}

/* ============================================
   ARCHITECTURAL FORCE INDICATORS
   ============================================ */

.force-indicator {
  display: inline-flex;
  align-items: center;
  gap: var(--isaac-space-xs);
  padding: 2px var(--isaac-space-sm);
  background: rgba(201, 169, 98, 0.1);
  border-radius: var(--isaac-radius-sm);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.force-indicator.high {
  color: var(--isaac-error);
  background: rgba(166, 93, 93, 0.15);
}

.force-indicator.medium {
  color: var(--isaac-warning);
  background: rgba(201, 169, 98, 0.15);
}

.force-indicator.low {
  color: var(--isaac-success);
  background: rgba(93, 138, 102, 0.15);
}

/* ============================================
   IMAGE & DIAGRAM CONTAINERS
   ============================================ */

/* Image wrapper */
.diagram-container,
[class*="image-container"] {
  background: var(--isaac-bg-elevated);
  border: 1px solid rgba(201, 169, 98, 0.1);
  border-radius: var(--isaac-radius-lg);
  padding: var(--isaac-space-md);
  margin: var(--isaac-space-lg) 0;
  text-align: center;
}

.diagram-container img,
[class*="image-container"] img {
  max-width: 100%;
  height: auto;
  border-radius: var(--isaac-radius-md);
}

.diagram-caption {
  font-family: var(--isaac-font-display);
  font-size: 0.85rem;
  color: var(--isaac-parchment-muted);
  font-style: italic;
  margin-top: var(--isaac-space-sm);
}

/* ============================================
   WELCOME SCREEN / README
   ============================================ */

.readme-content,
[class*="welcome"],
[class*="readme"] {
  max-width: 700px;
  margin: 0 auto;
  padding: var(--isaac-space-2xl);
}

.readme-content h1,
[class*="welcome"] h1 {
  font-family: var(--isaac-font-display) !important;
  font-size: 2.5rem !important;
  color: var(--isaac-brass) !important;
  text-align: center !important;
  margin-bottom: var(--isaac-space-sm) !important;
  letter-spacing: 0.15em !important;
}

.readme-content h3,
[class*="welcome"] h3 {
  text-align: center !important;
  color: var(--isaac-parchment-dim) !important;
  font-weight: 400 !important;
  margin-bottom: var(--isaac-space-xl) !important;
}

/* ============================================
   FOOTER ELEMENTS
   ============================================ */

footer,
[class*="footer"] {
  background: var(--isaac-bg-secondary) !important;
  border-top: 1px solid rgba(201, 169, 98, 0.1) !important;
  padding: var(--isaac-space-md) !important;
}

/* ============================================
   TOOLTIPS
   ============================================ */

.MuiTooltip-tooltip {
  background: var(--isaac-bg-surface) !important;
  color: var(--isaac-parchment) !important;
  border: 1px solid rgba(201, 169, 98, 0.2) !important;
  font-family: var(--isaac-font-body) !important;
  font-size: 0.8rem !important;
  padding: var(--isaac-space-sm) var(--isaac-space-md) !important;
  border-radius: var(--isaac-radius-sm) !important;
  box-shadow: var(--isaac-shadow-md) !important;
}

/* ============================================
   DIALOG / MODAL
   ============================================ */

.MuiDialog-paper,
.MuiModal-root > div {
  background: var(--isaac-bg-elevated) !important;
  border: 1px solid rgba(201, 169, 98, 0.15) !important;
  border-radius: var(--isaac-radius-lg) !important;
  box-shadow: var(--isaac-shadow-lg) !important;
}

/* ============================================
   CHIPS & TAGS
   ============================================ */

.MuiChip-root,
.tag {
  background: var(--isaac-bg-surface) !important;
  border: 1px solid rgba(201, 169, 98, 0.2) !important;
  color: var(--isaac-parchment-dim) !important;
  font-family: var(--isaac-font-body) !important;
  font-size: 0.75rem !important;
}

.MuiChip-root:hover,
.tag:hover {
  background: rgba(201, 169, 98, 0.1) !important;
  border-color: var(--isaac-brass) !important;
  color: var(--isaac-brass) !important;
}

/* ============================================
   ANIMATIONS
   ============================================ */

/* Subtle fade in for messages */
@keyframes isaac-fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

[class*="message"],
.step-container {
  animation: isaac-fadeIn 0.4s ease-out !important;
}

/* Glow pulse for important elements */
@keyframes isaac-glow {
  0%,
  100% {
    box-shadow: 0 0 5px rgba(201, 169, 98, 0.2);
  }
  50% {
    box-shadow: 0 0 15px rgba(201, 169, 98, 0.4);
  }
}

.highlight-glow {
  animation: isaac-glow 2s ease-in-out infinite;
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */

@media (max-width: 768px) {
  .readme-content,
  [class*="welcome"],
  [class*="readme"] {
    padding: var(--isaac-space-lg);
  }

  .readme-content h1,
  [class*="welcome"] h1 {
    font-size: 1.75rem !important;
  }

  [class*="userMessage"],
  [class*="assistantMessage"],
  .user-message,
  .assistant-message {
    padding: var(--isaac-space-md) !important;
  }

  pre {
    padding: var(--isaac-space-md) !important;
  }
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  body {
    background: white !important;
    color: black !important;
  }

  [class*="message"],
  .step-container {
    border: 1px solid #ccc !important;
    box-shadow: none !important;
  }

  .reasoning-section {
    border: 1px solid #999 !important;
  }
}

/* ============================================
   ISAAC CUSTOM ICONS & LOGO OVERRIDE
   ============================================ */

/* Avatar icon in messages - LARGER SIZE */
.message-avatar img,
[class*="avatar"] img,
[class*="Avatar"] img,
.MuiAvatar-img,
img[alt*="logo"],
img[alt*="avatar"],
img[alt*="chainlit"],
img[src*="logo"],
img[src*="avatar"],
img[src*="chainlit"] {
  content: url("/public/icon_isaac.png") !important;
  object-fit: contain !important;
  width: 100% !important;
  height: 100% !important;
}

/* Make avatar containers larger */
.message-avatar,
[class*="avatar"],
[class*="Avatar"],
.MuiAvatar-root {
  width: 200px !important;
  height: 200px !important;
  min-width: 200px !important;
  min-height: 200px !important;
}

/* SVG icons replacement - target the sparkle icon */
svg[class*="MuiSvgIcon"],
.step-icon svg,
[class*="avatar"] svg,
[class*="Avatar"] svg {
  display: none !important;
}

/* Create pseudo-element with custom icon for avatar containers */
.step-icon,
[class*="avatar"]:not(img),
[class*="Avatar"]:not(img) {
  background-image: url("/public/icon_isaac.png") !important;
  background-size: contain !important;
  background-repeat: no-repeat !important;
  background-position: center !important;
  width: 200px !important;
  height: 200px !important;
}

/* Header/sidebar logo */
[class*="logo"] img,
header img,
.MuiAppBar-root img {
  content: url("/public/icon_isaac.png") !important;
  max-height: 40px !important;
  width: auto !important;
}
