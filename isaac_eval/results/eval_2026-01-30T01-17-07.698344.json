{
  "timestamp": "2026-01-30T01:17:07.698344",
  "config": {
    "k_values": [
      1,
      3,
      5,
      10
    ]
  },
  "dataset_stats": {
    "total_queries": 20,
    "by_type": {
      "text_to_architecture": 17,
      "off_topic": 3
    },
    "by_difficulty": {
      "easy": 7,
      "medium": 11,
      "hard": 2
    },
    "with_expected_docs": 15,
    "with_expected_images": 15,
    "off_topic_queries": 3
  },
  "retrieval_metrics": {
    "recall_at_k": {
      "1": 0.7647058823529411,
      "3": 0.8235294117647058,
      "5": 0.8529411764705882,
      "10": 0.8823529411764706
    },
    "precision_at_k": {
      "1": 0.7647058823529411,
      "3": 0.2745098039215686,
      "5": 0.17647058823529416,
      "10": 0.09411764705882354
    },
    "mrr": 0.8529411764705882,
    "hit_rate": 0.8823529411764706,
    "image_hit_rate": 0.0,
    "avg_retrieval_time_ms": 2573.27667058716,
    "avg_top_score": 0.6667352874304496,
    "num_queries": 17
  },
  "generation_metrics": {
    "faithfulness_score": 0.8134391534391534,
    "citation_correctness": 0.1875,
    "answer_relevance": 0.4666666666666667,
    "refusal_accuracy": 1.0,
    "idk_accuracy": 1.0,
    "avg_generation_time_ms": 4644.510555000306,
    "avg_response_length": 1096.65,
    "num_queries": 20
  },
  "error_analysis": {
    "failure_modes": {
      "unfaithful_responses": {
        "count": 1,
        "examples": [
          "G005"
        ],
        "description": "Responses not grounded in retrieved context"
      },
      "incorrect_citations": {
        "count": 7,
        "examples": [
          "G001",
          "G002",
          "G003",
          "G005",
          "G009"
        ],
        "description": "Citations don't match retrieved content"
      }
    },
    "low_score_queries": [
      {
        "query_id": "G012",
        "query": "How would you design a personal finance app like Mint?",
        "top_score": 0.007300000172108412,
        "issue": "Low relevance score - embedding mismatch"
      },
      {
        "query_id": "E001",
        "query": "What is the exact internal architecture of TikTok's recommendation engine?",
        "recall@5": 0.0,
        "issue": "Low recall - relevant content not retrieved"
      },
      {
        "query_id": "E002",
        "query": "How does Spotify's machine learning pipeline work internally?",
        "recall@5": 0.0,
        "issue": "Low recall - relevant content not retrieved"
      }
    ]
  },
  "recommendations": [
    "**Improve image-text linkage**: Image hit rate is low. Ensure image metadata (captions, alt-text) is properly indexed and linked to documents.",
    "**Improve citation accuracy**: Citations don't always match sources. Consider explicitly listing source names in the context formatting."
  ]
}